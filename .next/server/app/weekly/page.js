(()=>{var e={};e.id=5499,e.ids=[5499],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3065:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>c,originalPathname:()=>x,pages:()=>p,routeModule:()=>u,tree:()=>d}),r(1435),r(4042),r(5866);var o=r(3191),n=r(8716),i=r(7922),l=r.n(i),a=r(5231),s={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>a[e]);r.d(t,s);let d=["",{children:["weekly",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1435)),"C:\\Users\\Owner\\Desktop\\momo-LINE\\src\\app\\weekly\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,4042)),"C:\\Users\\Owner\\Desktop\\momo-LINE\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],p=["C:\\Users\\Owner\\Desktop\\momo-LINE\\src\\app\\weekly\\page.tsx"],x="/weekly/page",c={require:r,loadChunk:()=>Promise.resolve()},u=new o.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/weekly/page",pathname:"/weekly",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4607:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},5909:()=>{},1286:(e,t,r)=>{Promise.resolve().then(r.bind(r,3986))},3986:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var o=r(326),n=r(7577);r(3543);var i=r(7256),l=r(3138),a=r(7300),s=r(7878);function d(){let[e,t]=(0,n.useState)(),[r,d]=(0,n.useState)("家事"),[p,x]=(0,n.useState)("家族"),[c,u]=(0,n.useState)("早寝"),[g,m]=(0,n.useState)(!0),[h,b]=(0,n.useState)("");async function F(){if(!e)return;let t=await fetch("/api/weekly",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({contact:e,did:r,relied:p,next_step:c})});t.ok?alert("1週間のまとめを送信しました。おつかれさま！"):alert("送信エラー："+await t.text())}return g?o.jsx(i.Z,{title:"週次まとめ",subtitle:"読み込み中...",isLoading:!0}):h?o.jsx(i.Z,{title:"週次まとめ",subtitle:"エラーが発生しました",error:h}):e?(0,o.jsxs)(i.Z,{title:"週次まとめ",subtitle:"1〜2分で完了します",children:[(0,o.jsxs)(l.Z,{children:[o.jsx(s.Z,{label:"今週やったこと",children:o.jsx("select",{value:r,onChange:e=>d(e.target.value),style:{width:"100%",padding:"12px 16px",border:"2px solid #E5E7EB",borderRadius:"12px",fontSize:"16px",backgroundColor:"#FFFFFF",outline:"none"},children:["家事","育児","仕事","体調ケア","自分時間"].map(e=>o.jsx("option",{value:e,children:e},e))})}),o.jsx(s.Z,{label:"頼れたこと",children:o.jsx("select",{value:p,onChange:e=>x(e.target.value),style:{width:"100%",padding:"12px 16px",border:"2px solid #E5E7EB",borderRadius:"12px",fontSize:"16px",backgroundColor:"#FFFFFF",outline:"none"},children:["家族","友人","園/学校","職場","サービス"].map(e=>o.jsx("option",{value:e,children:e},e))})}),o.jsx(s.Z,{label:"来週の一手",children:o.jsx("select",{value:c,onChange:e=>u(e.target.value),style:{width:"100%",padding:"12px 16px",border:"2px solid #E5E7EB",borderRadius:"12px",fontSize:"16px",backgroundColor:"#FFFFFF",outline:"none"},children:["早寝","休む宣言","お願いを1つ言う","同じ時間に寝る","外部に頼る"].map(e=>o.jsx("option",{value:e,children:e},e))})}),o.jsx(a.Z,{onClick:F,variant:"primary",size:"large",fullWidth:!0,children:"送信する"})]}),(0,o.jsxs)(l.Z,{variant:"accent",padding:"small",children:[o.jsx("p",{style:{fontSize:"14px",color:"#666",margin:"0 0 12px 0",textAlign:"center"},children:"任意のオプション："}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[o.jsx(a.Z,{variant:"outline",size:"small",onClick:()=>window.location.href="/diary",children:"家族にカードを送る"}),o.jsx(a.Z,{variant:"outline",size:"small",onClick:()=>window.location.href="/help",children:"ヘルプ / よくある質問"})]})]})]}):o.jsx(i.Z,{title:"週次まとめ",subtitle:"ユーザー情報の取得に失敗しました",error:"LINEアプリから再度お試しください"})}},7300:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var o=r(326);function n({children:e,onClick:t,variant:r="primary",size:n="medium",disabled:l=!1,fullWidth:a=!1,type:s="button",style:d}){let p={...i.button,...i.variant[r],...i.size[n],...a&&i.fullWidth,...l&&i.disabled,...d};return o.jsx("button",{type:s,style:p,onClick:t,disabled:l,children:e})}let i={button:{border:"none",borderRadius:"12px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},variant:{primary:{backgroundColor:"#FF6B9D",color:"#FFFFFF",boxShadow:"0 2px 8px rgba(255, 107, 157, 0.3)"},secondary:{backgroundColor:"#F3F4F6",color:"#374151",border:"1px solid #D1D5DB"},outline:{backgroundColor:"transparent",color:"#FF6B9D",border:"2px solid #FF6B9D"},ghost:{backgroundColor:"transparent",color:"#6B7280",border:"none"}},size:{small:{padding:"8px 12px",fontSize:"14px"},medium:{padding:"12px 16px",fontSize:"16px"},large:{padding:"16px 20px",fontSize:"16px"}},fullWidth:{width:"100%"},disabled:{opacity:.5,cursor:"not-allowed",backgroundColor:"#F3F4F6",color:"#9CA3AF",boxShadow:"none"}}},3138:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var o=r(326);function n({children:e,padding:t="medium",margin:r="small",variant:n="default"}){let l={...i.card,...i.padding[t],...i.margin[r],...i.variant[n]};return o.jsx("div",{style:l,children:e})}let i={card:{backgroundColor:"#FFFFFF",borderRadius:"16px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",border:"1px solid #E5E5E5"},padding:{small:{padding:"12px"},medium:{padding:"16px"},large:{padding:"20px"}},margin:{small:{marginBottom:"12px"},medium:{marginBottom:"16px"},large:{marginBottom:"20px"}},variant:{default:{},accent:{backgroundColor:"#FFF0F4",borderColor:"#FFB3C6"},warning:{backgroundColor:"#FFF5F5",borderColor:"#FECACA"}}}},7878:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var o=r(326);function n({label:e,children:t,description:r,required:n=!1}){return(0,o.jsxs)("div",{style:i.field,children:[(0,o.jsxs)("label",{style:i.label,children:[e,n&&o.jsx("span",{style:i.required,children:"*"})]}),r&&o.jsx("p",{style:i.description,children:r}),o.jsx("div",{style:i.input,children:t})]})}let i={field:{marginBottom:"16px"},label:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"6px"},required:{color:"#EF4444",marginLeft:"2px"},description:{fontSize:"12px",color:"#6B7280",marginBottom:"8px",margin:"0 0 8px 0"},input:{}}},7256:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var o=r(326);function n({children:e,title:t,subtitle:r,isLoading:n=!1,error:l}){return(0,o.jsxs)("div",{style:i.container,children:[(0,o.jsxs)("header",{style:i.header,children:[(0,o.jsxs)("div",{style:i.logo,children:[o.jsx("span",{style:i.logoIcon,children:"\uD83C\uDF38"}),o.jsx("span",{style:i.logoText,children:"Momo"})]}),o.jsx("h1",{style:i.title,children:t}),r&&o.jsx("p",{style:i.subtitle,children:r})]}),(0,o.jsxs)("main",{style:i.main,children:[n&&(0,o.jsxs)("div",{style:i.loadingContainer,children:[o.jsx("div",{style:i.loadingSpinner}),o.jsx("p",{style:i.loadingText,children:"読み込み中..."})]}),l&&(0,o.jsxs)("div",{style:i.errorContainer,children:[o.jsx("div",{style:i.errorIcon,children:"⚠️"}),o.jsx("p",{style:i.errorText,children:l})]}),!n&&!l&&e]}),o.jsx("footer",{style:i.footer,children:o.jsx("p",{style:i.footerText,children:"お疲れさまです \uD83C\uDF38"})})]})}let i={container:{minHeight:"100vh",backgroundColor:"#FAFAFA",display:"flex",flexDirection:"column"},header:{backgroundColor:"#FFFFFF",padding:"16px 20px",borderBottom:"1px solid #E5E5E5",textAlign:"center"},logo:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"8px"},logoIcon:{fontSize:"24px"},logoText:{fontSize:"18px",fontWeight:"bold",color:"#FF6B9D"},title:{fontSize:"20px",fontWeight:"600",color:"#333333",margin:"0 0 4px 0"},subtitle:{fontSize:"14px",color:"#666666",margin:"0"},main:{flex:1,padding:"20px",maxWidth:"480px",margin:"0 auto",width:"100%"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px 20px"},loadingSpinner:{width:"32px",height:"32px",border:"3px solid #E5E5E5",borderTop:"3px solid #FF6B9D",borderRadius:"50%",animation:"spin 1s linear infinite"},loadingText:{marginTop:"12px",fontSize:"14px",color:"#666666"},errorContainer:{backgroundColor:"#FFF5F5",border:"1px solid #FECACA",borderRadius:"12px",padding:"16px",textAlign:"center"},errorIcon:{fontSize:"24px",marginBottom:"8px"},errorText:{fontSize:"14px",color:"#DC2626",margin:"0"},footer:{backgroundColor:"#FFFFFF",padding:"16px 20px",borderTop:"1px solid #E5E5E5",textAlign:"center"},footerText:{fontSize:"12px",color:"#999999",margin:"0"}}},3543:(e,t,r)=>{"use strict";r(563)},4042:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s,metadata:()=>a});var o=r(9510),n=r(5384),i=r.n(n);function l(){let e=process.env.NEXT_PUBLIC_RESEARCH_BANNER??"研究モード";return o.jsx("div",{className:"w-full text-center text-xs py-1 bg-amber-50 text-amber-700 border-b",children:e})}r(5023);let a={title:"Momo LINE Bot",description:"LINE Bot application with OpenAI and Supabase integration"};function s({children:e}){return o.jsx("html",{lang:"ja",children:(0,o.jsxs)("body",{className:i().className,children:[o.jsx(l,{}),e]})})}},1435:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});let o=(0,r(8570).createProxy)(String.raw`C:\Users\Owner\Desktop\momo-LINE\src\app\weekly\page.tsx#default`)},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[8948,349,563],()=>r(3065));module.exports=o})();