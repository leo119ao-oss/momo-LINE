(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[499],{6926:function(e,n,t){Promise.resolve().then(t.bind(t,8067))},8067:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return a}});var i=t(7437),r=t(2265),o=t(4234),s=t(257);function a(){let[e,n]=(0,r.useState)(),[t,a]=(0,r.useState)("家事"),[p,g]=(0,r.useState)("家族"),[j,y]=(0,r.useState)("早寝");async function b(){if(!e)return;let n=await fetch("/api/weekly",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({contact:e,did:t,relied:p,next_step:j})});n.ok?alert("1週間のまとめを送信しました。おつかれさま！"):alert("送信エラー："+await n.text())}return((0,r.useEffect)(()=>{(async()=>{await (0,o.M)(s.env.NEXT_PUBLIC_LIFF_WEEKLY_ID),n(await (0,o.C)())})()},[]),e)?(0,i.jsxs)(l,{children:[(0,i.jsx)("h1",{style:u,children:"週次まとめ（1〜2分）"}),(0,i.jsxs)("div",{style:f,children:[(0,i.jsx)(d,{label:"今週やったこと",children:(0,i.jsx)(c,{options:["家事","育児","仕事","体調ケア","自分時間"],value:t,onChange:a})}),(0,i.jsx)(d,{label:"頼れたこと",children:(0,i.jsx)(c,{options:["家族","友人","園/学校","職場","サービス"],value:p,onChange:g})}),(0,i.jsx)(d,{label:"来週の一手",children:(0,i.jsx)(c,{options:["早寝","休む宣言","お願いを1つ言う","同じ時間に寝る","外部に頼る"],value:j,onChange:y})}),(0,i.jsx)("button",{onClick:b,style:h,children:"送信する"})]}),(0,i.jsxs)("div",{style:{marginTop:14},children:[(0,i.jsx)("p",{style:{fontSize:13,color:"#666"},children:"任意のオプション："}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[(0,i.jsx)("a",{href:"/diary",style:x,children:"家族にカードを送る"}),(0,i.jsx)("a",{href:"/help",style:x,children:"ヘルプ / よくある質問"})]})]})]}):(0,i.jsx)(l,{children:(0,i.jsx)("p",{children:"読み込み中…"})})}function l(e){let{children:n}=e;return(0,i.jsx)("main",{style:{maxWidth:560,margin:"0 auto",padding:"20px 16px"},children:n})}function d(e){let{label:n,children:t}=e;return(0,i.jsxs)("div",{style:{margin:"12px 0"},children:[(0,i.jsx)("div",{style:{fontSize:13,color:"#444",marginBottom:6},children:n}),t]})}function c(e){let{options:n,value:t,onChange:r}=e;return(0,i.jsx)("select",{value:t,onChange:e=>r(e.target.value),style:p,children:n.map(e=>(0,i.jsx)("option",{value:e,children:e},e))})}let u={fontSize:22,fontWeight:700,margin:"4px 0 8px"},f={background:"#fff",border:"1px solid #eee",borderRadius:12,padding:16},h={marginTop:8,width:"100%",background:"#FF8FA3",color:"#fff",border:"none",padding:"12px",borderRadius:10,fontWeight:700,fontSize:16},p={width:"100%",border:"1px solid #ddd",borderRadius:8,padding:"10px 12px",fontSize:16},x={display:"block",textAlign:"center",padding:"12px",border:"1px solid #eee",borderRadius:10,background:"#F7F7F7",color:"#333",textDecoration:"none"}},4234:function(e,n,t){"use strict";t.d(n,{C:function(){return o},M:function(){return r}});var i=t(1571);async function r(e){i.Z.isLoggedIn()||await i.Z.init({liffId:e})}async function o(){return(await i.Z.getProfile()).userId}}},function(e){e.O(0,[370,971,117,744],function(){return e(e.s=6926)}),_N_E=e.O()}]);