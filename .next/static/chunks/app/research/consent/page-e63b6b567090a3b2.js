(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{4920:function(e,n,t){Promise.resolve().then(t.bind(t,2836))},2836:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return i}});var a=t(7437),r=t(2265),c=t(4234),o=t(257);function i(){let[e,n]=(0,r.useState)();if((0,r.useEffect)(()=>{(async()=>{await (0,c.M)(o.env.NEXT_PUBLIC_LIFF_CONSENT_ID),n(await (0,c.C)())})()},[]),!e)return(0,a.jsx)("div",{className:"p-6",children:"LINE連携中…"});async function t(n){n.preventDefault();let t=new FormData(n.currentTarget);alert((await fetch("/api/consent",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({display_name:t.get("name")||"momo",contact:e,cohort:t.get("cohort")||"community"})})).ok?"同意を送信しました":"送信エラー")}return(0,a.jsxs)("form",{onSubmit:t,className:"p-6 space-y-3",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"研究への参加同意"}),(0,a.jsx)("input",{className:"border p-2 w-full",name:"name",placeholder:"ニックネーム"}),(0,a.jsxs)("select",{className:"border p-2",name:"cohort",children:[(0,a.jsx)("option",{value:"community",children:"community"}),(0,a.jsx)("option",{value:"general",children:"general"})]}),(0,a.jsx)("button",{className:"border px-4 py-2 rounded",children:"同意してはじめる"})]})}},4234:function(e,n,t){"use strict";t.d(n,{C:function(){return c},M:function(){return r}});var a=t(1571);async function r(e){a.Z.isLoggedIn()||await a.Z.init({liffId:e})}async function c(){return(await a.Z.getProfile()).userId}}},function(e){e.O(0,[370,971,117,744],function(){return e(e.s=4920)}),_N_E=e.O()}]);