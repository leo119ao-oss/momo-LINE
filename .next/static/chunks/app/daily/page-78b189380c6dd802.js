(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[379],{1606:function(e,a,n){Promise.resolve().then(n.bind(n,2899))},2899:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return i}});var t=n(7437),s=n(2265),l=n(4234),r=n(257);function i(){let[e,a]=(0,s.useState)(),[n,i]=(0,s.useState)(5),[u,c]=(0,s.useState)(5),[o,d]=(0,s.useState)(5),[m,h]=(0,s.useState)(""),[x,b]=(0,s.useState)(""),[p,g]=(0,s.useState)(!1);async function f(a){g(!0);try{await fetch("/api/daily",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({...a,user_id:e})}),alert("送信しました（60秒）")}catch(e){alert("エラーが発生しました。")}finally{g(!1)}}(0,s.useEffect)(()=>{(async()=>{await (0,l.M)(r.env.NEXT_PUBLIC_LIFF_DAILY_ID),a(await (0,l.C)())})()},[]);let v=async e=>{e.preventDefault(),m&&await f({mood:n,load:u,efficacy:o,choice:m,memo:x.slice(0,80)})};return e?(0,t.jsxs)("div",{className:"max-w-md mx-auto p-6 bg-white rounded-lg shadow-md space-y-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-center",children:"今日のひとこと"}),(0,t.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["気分: ",n,"/10"]}),(0,t.jsx)("input",{type:"range",min:"0",max:"10",value:n,onChange:e=>i(Number(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["負担: ",u,"/10"]}),(0,t.jsx)("input",{type:"range",min:"0",max:"10",value:u,onChange:e=>c(Number(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["自信: ",o,"/10"]}),(0,t.jsx)("input",{type:"range",min:"0",max:"10",value:o,onChange:e=>d(Number(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"今日の選択"}),(0,t.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[(0,t.jsx)("option",{value:"",children:"選択してください"}),(0,t.jsx)("option",{value:"子育てに集中",children:"子育てに集中"}),(0,t.jsx)("option",{value:"自分の時間を作った",children:"自分の時間を作った"}),(0,t.jsx)("option",{value:"家族と過ごした",children:"家族と過ごした"}),(0,t.jsx)("option",{value:"新しいことに挑戦",children:"新しいことに挑戦"}),(0,t.jsx)("option",{value:"休息を取った",children:"休息を取った"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["一言メモ (",x.length,"/80)"]}),(0,t.jsx)("textarea",{value:x,onChange:e=>b(e.target.value),maxLength:80,placeholder:"今日の気持ちや出来事を一言で...",className:"w-full p-2 border border-gray-300 rounded-md h-20 resize-none"})]}),(0,t.jsx)("button",{type:"submit",disabled:p||!m,className:"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed",children:p?"送信中...":"送信"})]})]}):(0,t.jsx)("div",{className:"p-4 text-sm",children:"LINE連携中…"})}},4234:function(e,a,n){"use strict";n.d(a,{C:function(){return l},M:function(){return s}});var t=n(1571);async function s(e){t.Z.isLoggedIn()||await t.Z.init({liffId:e})}async function l(){return(await t.Z.getProfile()).userId}}},function(e){e.O(0,[370,971,117,744],function(){return e(e.s=1606)}),_N_E=e.O()}]);