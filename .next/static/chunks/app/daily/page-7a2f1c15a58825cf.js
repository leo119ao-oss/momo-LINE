(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[379],{4249:function(e,n,t){Promise.resolve().then(t.bind(t,3325))},3325:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return a}});var i=t(7437),r=t(2265),l=t(4234),s=t(257);function a(){let[e,n]=(0,r.useState)(),[t,a]=(0,r.useState)(5),[x,j]=(0,r.useState)(5),[y,b]=(0,r.useState)(5),[v,m]=(0,r.useState)("家事"),[S,C]=(0,r.useState)("");async function F(){if(!e)return;let n=await fetch("/api/daily",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({contact:e,mood:t,load:x,efficacy:y,choice:v,memo:S})});n.ok?(alert("今日の1分を送信しました。おつかれさま！"),history.back()):alert("送信エラー："+await n.text())}return((0,r.useEffect)(()=>{(async()=>{await (0,l.M)(s.env.NEXT_PUBLIC_LIFF_DAILY_ID),n(await (0,l.C)())})()},[]),e)?(0,i.jsxs)(o,{children:[(0,i.jsx)("h1",{style:f,children:"今日の1分"}),(0,i.jsxs)("p",{style:{margin:"4px 0 12px",color:"#666"},children:["スライダーを動かして、最後に一言。",(0,i.jsx)("b",{children:"60秒で終わります。"})]}),(0,i.jsxs)("div",{style:h,children:[(0,i.jsx)(c,{label:"気分",value:t,onChange:a,left:"低い",right:"高い"}),(0,i.jsx)(c,{label:"負担",value:x,onChange:j,left:"軽い",right:"重い"}),(0,i.jsx)(c,{label:"自信",value:y,onChange:b,left:"低い",right:"高い"}),(0,i.jsx)(d,{label:"今日のトピック（選択）",children:(0,i.jsx)(u,{options:["家事","育児","仕事","体調","自分時間"],value:v,onChange:m})}),(0,i.jsxs)(d,{label:"ひとこと（80字まで）",children:[(0,i.jsx)("textarea",{value:S,onChange:e=>C(e.target.value.slice(0,80)),placeholder:"例：寝かしつけで助けてもらえて楽だった",style:g}),(0,i.jsxs)("div",{style:{textAlign:"right",fontSize:12,color:"#999"},children:[S.length,"/80"]})]}),(0,i.jsx)("button",{onClick:F,style:p,children:"送信する"})]}),(0,i.jsx)("p",{style:{fontSize:12,color:"#666"},children:"※必要な時だけ、後続で「確認の質問」や「記事3件」が出ます。"})]}):(0,i.jsx)(o,{children:(0,i.jsx)("p",{children:"読み込み中…"})})}function o(e){let{children:n}=e;return(0,i.jsxs)("main",{style:{maxWidth:560,margin:"0 auto",padding:"20px 16px"},children:[(0,i.jsx)("div",{style:x,children:"momo 研究モード"}),n]})}function d(e){let{label:n,children:t}=e;return(0,i.jsxs)("div",{style:{margin:"12px 0"},children:[(0,i.jsx)("div",{style:{fontSize:13,color:"#444",marginBottom:6},children:n}),t]})}function c(e){let{label:n,value:t,onChange:r,left:l,right:s}=e;return(0,i.jsxs)("div",{style:{margin:"12px 0"},children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:13,color:"#444"},children:[(0,i.jsx)("span",{children:n}),(0,i.jsx)("span",{children:t})]}),(0,i.jsx)("input",{type:"range",min:0,max:10,value:t,onChange:e=>r(Number(e.target.value)),style:{width:"100%"}}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"#888"},children:[(0,i.jsx)("span",{children:l}),(0,i.jsx)("span",{children:s})]})]})}function u(e){let{options:n,value:t,onChange:r}=e;return(0,i.jsx)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:n.map(e=>(0,i.jsx)("button",{onClick:()=>r(e),style:{padding:"6px 10px",borderRadius:999,border:"1px solid #ddd",background:t===e?"#FFEEF2":"#fff",color:t===e?"#D33":"#333"},children:e},e))})}let x={background:"#FFF0F4",color:"#FF6F91",padding:"8px 12px",borderRadius:10,fontSize:12,textAlign:"center",marginBottom:12},f={fontSize:22,fontWeight:700,margin:"4px 0 8px"},h={background:"#fff",border:"1px solid #eee",borderRadius:12,padding:16},p={marginTop:8,width:"100%",background:"#FF8FA3",color:"#fff",border:"none",padding:"12px",borderRadius:10,fontWeight:700,fontSize:16},g={width:"100%",height:80,border:"1px solid #ddd",borderRadius:8,padding:"10px 12px",fontSize:16}},4234:function(e,n,t){"use strict";t.d(n,{C:function(){return l},M:function(){return r}});var i=t(1571);async function r(e){i.Z.isLoggedIn()||await i.Z.init({liffId:e})}async function l(){return(await i.Z.getProfile()).userId}}},function(e){e.O(0,[370,971,117,744],function(){return e(e.s=4249)}),_N_E=e.O()}]);