(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7],{3516:function(e,t,n){Promise.resolve().then(n.bind(n,6070))},6070:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f},dynamic:function(){return u},runtime:function(){return d}});var o=n(7437),i=n(2265),r=n(9376),a=n(3145),c=n(8439),l=n(4234),s=n(257);let u="force-dynamic",d="nodejs";function f(e){var t;let{params:n}=e,[u,d]=(0,i.useState)(null),[f,h]=(0,i.useState)(!0);return((0,i.useEffect)(()=>{(async()=>{try{let e=s.env.NEXT_PUBLIC_LIFF_DIARY_ID||"2008112810-qaB8YQdO";console.log("[DIARY] LIFF ID: ".concat(e)),await (0,l.M)(e);let t=(0,c.eI)("https://mkikyycrgfudodhkukng.supabase.co",s.env.NEXT_PUBLIC_SUPABASE_ANON_KEY),{data:o}=await t.from("media_entries").select("*").eq("page_slug",n.slug).maybeSingle();o||(0,r.notFound)(),d(o),h(!1)}catch(e){console.error("[DIARY] LIFF initialization error:",e),h(!1)}})()},[n.slug]),f)?(0,o.jsx)("div",{className:"p-4 text-sm",children:"読み込み中..."}):(u||(0,r.notFound)(),(0,o.jsx)("main",{className:"mx-auto max-w-xl p-4",children:(0,o.jsxs)("article",{className:"rounded-2xl border shadow p-4 space-y-3 bg-white",children:[(0,o.jsx)("div",{className:"text-sm opacity-70",children:new Date(u.created_at).toLocaleDateString("ja-JP")}),(0,o.jsx)("div",{className:"relative aspect-[4/3] overflow-hidden rounded-xl",children:(0,o.jsx)(a.default,{src:u.image_url,alt:null!==(t=u.title)&&void 0!==t?t:"",fill:!0,className:"object-cover"})}),(0,o.jsx)("h1",{className:"text-xl font-semibold",children:u.title}),u.extra_note&&(0,o.jsx)("p",{className:"text-base",children:u.extra_note})]})}))}},4234:function(e,t,n){"use strict";n.d(t,{C:function(){return r},M:function(){return i}});var o=n(1571);async function i(e){try{console.log("[LIFF] Initializing with ID: ".concat(e)),o.Z.isLoggedIn()?console.log("[LIFF] Already logged in with ID: ".concat(e)):(await o.Z.init({liffId:e}),console.log("[LIFF] Successfully initialized with ID: ".concat(e)))}catch(t){throw console.error("[LIFF] Error initializing with ID ".concat(e,":"),t),t}}async function r(){try{let e=await o.Z.getProfile();return console.log("[LIFF] Got user profile: ".concat(e.userId)),e.userId}catch(e){throw console.error("[LIFF] Error getting user profile:",e),e}}}},function(e){e.O(0,[370,177,971,117,744],function(){return e(e.s=3516)}),_N_E=e.O()}]);